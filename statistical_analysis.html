<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Exploratory Analysis</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/sandstone.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 61px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h2 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h3 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h4 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h5 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h6 {
  padding-top: 66px;
  margin-top: -66px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Homepage</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="visualizations.html">Visualizations</a>
</li>
<li>
  <a href="statistical_analysis.html">Exploratory Analysis</a>
</li>
<li>
  <a href="model_building.html">Model Building</a>
</li>
<li>
  <a href="map_viz_kyung.html">Interactive Maps</a>
</li>
<li>
  <a href="proposal.html">Project Report</a>
</li>
<li>
  <a href="https://ll3344.shinyapps.io/shiny/">Interactive Prediction Tool</a>
</li>
<li>
  <a href="screencast.html">
    <span class="fa fa-video fa-2x"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/chaojy/p8105_final_ped_covid">
    <span class="fa fa-github fa-2x"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Exploratory Analysis</h1>

</div>


<div id="setup" class="section level2">
<h2>Setup</h2>
<pre class="r"><code>library(tidyverse)</code></pre>
<pre><code>## ── Attaching packages ──────────────────────────────────────────────────────────────────────────────────── tidyverse 1.3.0 ──</code></pre>
<pre><code>## ✓ ggplot2 3.3.2     ✓ purrr   0.3.4
## ✓ tibble  3.0.3     ✓ dplyr   1.0.2
## ✓ tidyr   1.1.2     ✓ stringr 1.4.0
## ✓ readr   1.3.1     ✓ forcats 0.5.0</code></pre>
<pre><code>## ── Conflicts ─────────────────────────────────────────────────────────────────────────────────────── tidyverse_conflicts() ──
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<pre class="r"><code>library(aod)
library(patchwork)
library(ResourceSelection)</code></pre>
<pre><code>## ResourceSelection 0.3-5   2019-07-22</code></pre>
<pre class="r"><code>knitr::opts_chunk$set(
  fig.width = 6,
  fig.asp = 1.1,
  out.width = &quot;100%&quot;)

theme_set(theme_minimal() + theme(legend.position = &quot;bottom&quot;))

options(
  ggplot2.continuous.colour = &quot;viridis&quot;,
  ggplot2.continuous.fill = &quot;viridis&quot;)

scale_colour_discrete = scale_color_viridis_d
scale_fill_discrete = scale_fill_viridis_d

knitr::opts_chunk$set(comment = NA, message = FALSE, warning = FALSE, echo = TRUE)</code></pre>
</div>
<div id="data-import-and-tidy" class="section level2">
<h2>Data import and tidy</h2>
<pre class="r"><code>data_stats = read_csv(&quot;./datacomplete.csv&quot;) %&gt;% 
  mutate_at(c(&quot;admitted&quot;, &quot;ethnicity_race&quot;, &quot;asthma&quot;, &quot;diabetes&quot;, &quot;gender&quot;, &quot;obesity&quot;, &quot;icu&quot;), as.factor) %&gt;% 
  select(admitted, icu, age, ethnicity_race, gender, ses, obesity, bmi_value, systolic_bp_value, asthma, diabetes)

summary(data_stats)</code></pre>
<pre><code> admitted  icu          age                ethnicity_race gender 
 no :250   0:355   Min.   : 0.00   american indian:  2    F:190  
 yes:125   1: 20   1st Qu.:10.00   asian          : 14    M:185  
                   Median :18.00   black          : 92           
                   Mean   :14.63   caucasian      : 21           
                   3rd Qu.:21.00   latino         :228           
                   Max.   :22.00   multiple       : 18           
      ses          obesity   bmi_value     systolic_bp_value asthma  diabetes
 Min.   :-13.506   0:249   Min.   :12.03   Min.   : 61.0     0:314   0:358   
 1st Qu.: -6.496   1:126   1st Qu.:19.04   1st Qu.:103.0     1: 61   1: 17   
 Median : -3.637           Median :24.03   Median :117.0                     
 Mean   : -3.892           Mean   :26.54   Mean   :115.3                     
 3rd Qu.: -1.419           3rd Qu.:32.12   3rd Qu.:128.0                     
 Max.   :  2.931           Max.   :80.84   Max.   :182.0                     </code></pre>
</div>
<div id="dataset-exploration" class="section level2">
<h2>Dataset exploration</h2>
<p>This is a dataset of 375 pediatric patients 0 to 23 years of age with COVID-19 infection. First, we explore the data by generating various ggplots.</p>
<div id="age" class="section level3">
<h3>Age</h3>
<p>There appears to be a bimodal distribution of hospital admission as a function of age. Among infants and toddlers less than 5 years of age who test positive for COVID-19, more are admitted than not admitted. However, after 16 years of age, hospitalizations for COVID-19 infection appear to be less than non-hospitalizations.</p>
<p>Some pediatric patients require admission to the Intensive Care Unit (ICU). Fewer infants and toddlers with COVID-19 infection require admission to the ICU until about 3 years of age. Beginning at 10 years of age, there seems to be a steeper rise in the density of ICU admissions for children with COVID-19 infection compared to non-ICU admissions.</p>
<pre class="r"><code>admitt_p = 
  data_stats %&gt;% 
  ggplot(aes(x = age, fill = admitted)) +
  geom_density(alpha = .6) +
  labs(
    title = &quot;Admittance/Age Distribution&quot;,
    x = &quot;Age (Years)&quot;,
    y = &quot;Density&quot;) +
  theme(legend.position = &quot;bottom&quot;)

icu_p = 
  data_stats %&gt;% 
  ggplot(aes(x = age, fill = icu)) +
  geom_density(alpha = .6) +
  labs(
    title = &quot;ICU/Age Distribution&quot;,
    x = &quot;Age (Years)&quot;,
    y = &quot;Density&quot;) +
  theme(legend.position = &quot;bottom&quot;)

admitt_p / icu_p</code></pre>
<p><img src="statistical_analysis_files/figure-html/density%20admit-1.png" width="100%" /></p>
</div>
<div id="obesity-diabetes-and-asthma" class="section level3">
<h3>Obesity, diabetes, and asthma</h3>
<p>The distribution of obesity, diabetes, and asthma diagnoses in pediatric patients with COVID-19 infection by age are show below. Obesity, as defined as a body mass index (BMI) of &gt; 30, is general not present at ages less than 10 years. After 10 years, the prevalence of obesity increases. This is generally true for diabetes as asthma as well.</p>
<pre class="r"><code>obesity_p = 
  data_stats %&gt;% 
  ggplot(aes(x = age, fill = obesity)) +
  geom_density(alpha = .6) +
  labs(
    title = &quot;Obesity/Age Distribution&quot;,
    x = &quot;Age (Years)&quot;,
    y = &quot;Density&quot;) +
  theme(legend.position = &quot;bottom&quot;)

diabetes_p = 
  data_stats %&gt;% 
  ggplot(aes(x = age, fill = diabetes)) +
  geom_density(alpha = .6) +
  labs(
    title = &quot;Diabetes/Age Distribution&quot;,
    x = &quot;Age (Years)&quot;,
    y = &quot;Density&quot;) +
  theme(legend.position = &quot;bottom&quot;)

asthma_p = 
  data_stats %&gt;% 
  ggplot(aes(x = age, fill = asthma)) +
  geom_density(alpha = .6) +
  labs(
    title = &quot;Asthma/Age Distribution&quot;,
    x = &quot;Age (Years)&quot;,
    y = &quot;Density&quot;) +
  theme(legend.position = &quot;bottom&quot;)

obesity_p / diabetes_p / asthma_p</code></pre>
<p><img src="statistical_analysis_files/figure-html/unnamed-chunk-3-1.png" width="100%" /></p>
</div>
<div id="box-plots" class="section level3">
<h3>Box plots</h3>
<p>Below, we explore first systolic blood pressure, BMI, and socioeconomic status (SES) by admission status. The median first systolic pressure is higher among admitted patients compared to non-admitted patients. BMI appears to be similar, but wiht some high BMI outliers in the non-hospitalized group. Median SES is lower among admitted patients.</p>
<pre class="r"><code>bp_p =
  data_stats %&gt;% 
  ggplot(aes(x = icu, y = systolic_bp_value)) +
  geom_boxplot() +
  labs(
    title = &quot;Systolic Blood Pressure by Admission Status&quot;,
    x = &quot;Hospital Admission Status&quot;,
    y = &quot;Systolic Blood Pressure&quot;)

bmi_p =
  data_stats %&gt;% 
  ggplot(aes(x = icu, y = bmi_value)) +
  geom_boxplot() +
  labs(
    title = &quot;BMI by Admission Status&quot;,
    x = &quot;Hospital Admission Status&quot;,
    y = &quot;BMI Value&quot;)

ses_p =
  data_stats %&gt;% 
  ggplot(aes(x = icu, y = ses)) +
  geom_boxplot() +
  labs(
    title = &quot;Socioeconomic Status by Admission Status&quot;,
    x = &quot;Hospital Admission Status&quot;,
    y = &quot;SES Measure&quot;)

bp_p / bmi_p / ses_p</code></pre>
<p><img src="statistical_analysis_files/figure-html/boxplots-1.png" width="100%" /></p>
<p>Possible Models</p>
<pre class="r"><code>  initial_fit = 
  glm(admitted ~ age + gender + ethnicity_race + asthma + diabetes + obesity, 
      family = binomial(link = &quot;logit&quot;), 
      data = data_stats) %&gt;% 
  broom::tidy() %&gt;% 
  mutate(OR = exp(estimate)) %&gt;% 
  select(term, p.value, everything()) %&gt;% 
  knitr::kable(digits = 3)
initial_fit</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">term</th>
<th align="right">p.value</th>
<th align="right">estimate</th>
<th align="right">std.error</th>
<th align="right">statistic</th>
<th align="right">OR</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">(Intercept)</td>
<td align="right">0.981</td>
<td align="right">-13.979</td>
<td align="right">589.290</td>
<td align="right">-0.024</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">age</td>
<td align="right">0.001</td>
<td align="right">-0.055</td>
<td align="right">0.017</td>
<td align="right">-3.266</td>
<td align="right">0.946</td>
</tr>
<tr class="odd">
<td align="left">genderM</td>
<td align="right">0.879</td>
<td align="right">-0.035</td>
<td align="right">0.232</td>
<td align="right">-0.152</td>
<td align="right">0.965</td>
</tr>
<tr class="even">
<td align="left">ethnicity_raceasian</td>
<td align="right">0.981</td>
<td align="right">14.317</td>
<td align="right">589.291</td>
<td align="right">0.024</td>
<td align="right">1651035.500</td>
</tr>
<tr class="odd">
<td align="left">ethnicity_raceblack</td>
<td align="right">0.981</td>
<td align="right">13.905</td>
<td align="right">589.290</td>
<td align="right">0.024</td>
<td align="right">1093265.497</td>
</tr>
<tr class="even">
<td align="left">ethnicity_racecaucasian</td>
<td align="right">0.981</td>
<td align="right">14.182</td>
<td align="right">589.290</td>
<td align="right">0.024</td>
<td align="right">1442205.018</td>
</tr>
<tr class="odd">
<td align="left">ethnicity_racelatino</td>
<td align="right">0.981</td>
<td align="right">13.892</td>
<td align="right">589.290</td>
<td align="right">0.024</td>
<td align="right">1079344.536</td>
</tr>
<tr class="even">
<td align="left">ethnicity_racemultiple</td>
<td align="right">0.982</td>
<td align="right">13.242</td>
<td align="right">589.291</td>
<td align="right">0.022</td>
<td align="right">563779.889</td>
</tr>
<tr class="odd">
<td align="left">asthma1</td>
<td align="right">0.074</td>
<td align="right">0.562</td>
<td align="right">0.315</td>
<td align="right">1.788</td>
<td align="right">1.755</td>
</tr>
<tr class="even">
<td align="left">diabetes1</td>
<td align="right">0.001</td>
<td align="right">2.035</td>
<td align="right">0.598</td>
<td align="right">3.403</td>
<td align="right">7.651</td>
</tr>
<tr class="odd">
<td align="left">obesity1</td>
<td align="right">0.982</td>
<td align="right">-0.006</td>
<td align="right">0.278</td>
<td align="right">-0.023</td>
<td align="right">0.994</td>
</tr>
</tbody>
</table>
<pre class="r"><code># hl &lt;- hoslem.test(initial_fit$admitted, fitted(initial_fit), g = 10)
# hl
# wald.test(b = coef(initial_fit), Sigma = vcov(initial_fit), Terms = 4:8)</code></pre>
<pre class="r"><code>complex_fit = 
  glm(admitted ~ age + gender + ethnicity_race + asthma + diabetes + bmi_value + systolic_bp_value + ses, 
      family = binomial(link = &quot;logit&quot;), 
      data = data_stats) %&gt;% 
  broom::tidy() %&gt;% 
  mutate(OR = exp(estimate)) %&gt;% 
  select(term, p.value, everything()) %&gt;% 
  knitr::kable(digits = 3)
complex_fit</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">term</th>
<th align="right">p.value</th>
<th align="right">estimate</th>
<th align="right">std.error</th>
<th align="right">statistic</th>
<th align="right">OR</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">(Intercept)</td>
<td align="right">0.980</td>
<td align="right">-14.922</td>
<td align="right">594.624</td>
<td align="right">-0.025</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">age</td>
<td align="right">0.000</td>
<td align="right">-0.074</td>
<td align="right">0.021</td>
<td align="right">-3.562</td>
<td align="right">0.928</td>
</tr>
<tr class="odd">
<td align="left">genderM</td>
<td align="right">0.515</td>
<td align="right">-0.162</td>
<td align="right">0.248</td>
<td align="right">-0.652</td>
<td align="right">0.851</td>
</tr>
<tr class="even">
<td align="left">ethnicity_raceasian</td>
<td align="right">0.981</td>
<td align="right">14.152</td>
<td align="right">594.623</td>
<td align="right">0.024</td>
<td align="right">1399857.334</td>
</tr>
<tr class="odd">
<td align="left">ethnicity_raceblack</td>
<td align="right">0.982</td>
<td align="right">13.666</td>
<td align="right">594.623</td>
<td align="right">0.023</td>
<td align="right">861156.133</td>
</tr>
<tr class="even">
<td align="left">ethnicity_racecaucasian</td>
<td align="right">0.981</td>
<td align="right">13.993</td>
<td align="right">594.623</td>
<td align="right">0.024</td>
<td align="right">1193750.504</td>
</tr>
<tr class="odd">
<td align="left">ethnicity_racelatino</td>
<td align="right">0.982</td>
<td align="right">13.621</td>
<td align="right">594.623</td>
<td align="right">0.023</td>
<td align="right">823267.319</td>
</tr>
<tr class="even">
<td align="left">ethnicity_racemultiple</td>
<td align="right">0.982</td>
<td align="right">13.093</td>
<td align="right">594.624</td>
<td align="right">0.022</td>
<td align="right">485495.983</td>
</tr>
<tr class="odd">
<td align="left">asthma1</td>
<td align="right">0.069</td>
<td align="right">0.580</td>
<td align="right">0.319</td>
<td align="right">1.816</td>
<td align="right">1.786</td>
</tr>
<tr class="even">
<td align="left">diabetes1</td>
<td align="right">0.001</td>
<td align="right">1.921</td>
<td align="right">0.605</td>
<td align="right">3.177</td>
<td align="right">6.826</td>
</tr>
<tr class="odd">
<td align="left">bmi_value</td>
<td align="right">0.634</td>
<td align="right">0.006</td>
<td align="right">0.014</td>
<td align="right">0.476</td>
<td align="right">1.006</td>
</tr>
<tr class="even">
<td align="left">systolic_bp_value</td>
<td align="right">0.094</td>
<td align="right">0.013</td>
<td align="right">0.008</td>
<td align="right">1.677</td>
<td align="right">1.013</td>
</tr>
<tr class="odd">
<td align="left">ses</td>
<td align="right">0.447</td>
<td align="right">0.032</td>
<td align="right">0.042</td>
<td align="right">0.761</td>
<td align="right">1.032</td>
</tr>
</tbody>
</table>
<pre class="r"><code>play_fit = 
  glm(admitted ~ age + gender + asthma + diabetes + bmi_value + systolic_bp_value + ses, 
      family = binomial(link = &quot;logit&quot;), 
      data = data_stats) %&gt;% 
  broom::tidy() %&gt;% 
  mutate(OR = exp(estimate)) %&gt;% 
  select(term, p.value, everything()) %&gt;% 
  knitr::kable(digits = 3)
play_fit</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">term</th>
<th align="right">p.value</th>
<th align="right">estimate</th>
<th align="right">std.error</th>
<th align="right">statistic</th>
<th align="right">OR</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">(Intercept)</td>
<td align="right">0.093</td>
<td align="right">-1.277</td>
<td align="right">0.761</td>
<td align="right">-1.678</td>
<td align="right">0.279</td>
</tr>
<tr class="even">
<td align="left">age</td>
<td align="right">0.000</td>
<td align="right">-0.073</td>
<td align="right">0.020</td>
<td align="right">-3.612</td>
<td align="right">0.930</td>
</tr>
<tr class="odd">
<td align="left">genderM</td>
<td align="right">0.572</td>
<td align="right">-0.137</td>
<td align="right">0.242</td>
<td align="right">-0.565</td>
<td align="right">0.872</td>
</tr>
<tr class="even">
<td align="left">asthma1</td>
<td align="right">0.044</td>
<td align="right">0.621</td>
<td align="right">0.308</td>
<td align="right">2.016</td>
<td align="right">1.861</td>
</tr>
<tr class="odd">
<td align="left">diabetes1</td>
<td align="right">0.001</td>
<td align="right">1.935</td>
<td align="right">0.602</td>
<td align="right">3.213</td>
<td align="right">6.927</td>
</tr>
<tr class="even">
<td align="left">bmi_value</td>
<td align="right">0.675</td>
<td align="right">0.005</td>
<td align="right">0.013</td>
<td align="right">0.419</td>
<td align="right">1.005</td>
</tr>
<tr class="odd">
<td align="left">systolic_bp_value</td>
<td align="right">0.080</td>
<td align="right">0.013</td>
<td align="right">0.007</td>
<td align="right">1.749</td>
<td align="right">1.013</td>
</tr>
<tr class="even">
<td align="left">ses</td>
<td align="right">0.340</td>
<td align="right">0.038</td>
<td align="right">0.040</td>
<td align="right">0.955</td>
<td align="right">1.039</td>
</tr>
</tbody>
</table>
<p>Asthma and Diabetes seem to be important predictors</p>
<pre class="r"><code>icu1_fit = 
  glm(icu ~ age + gender + ethnicity_race + asthma + diabetes + obesity, 
      family = binomial(link = &quot;logit&quot;), 
      data = data_stats) %&gt;% 
  broom::tidy() %&gt;% 
  mutate(OR = exp(estimate)) %&gt;% 
  select(term, p.value, everything()) %&gt;% 
  knitr::kable(digits = 3)
icu1_fit</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">term</th>
<th align="right">p.value</th>
<th align="right">estimate</th>
<th align="right">std.error</th>
<th align="right">statistic</th>
<th align="right">OR</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">(Intercept)</td>
<td align="right">0.997</td>
<td align="right">-18.950</td>
<td align="right">4609.321</td>
<td align="right">-0.004</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">age</td>
<td align="right">0.837</td>
<td align="right">-0.008</td>
<td align="right">0.039</td>
<td align="right">-0.205</td>
<td align="right">0.992</td>
</tr>
<tr class="odd">
<td align="left">genderM</td>
<td align="right">0.374</td>
<td align="right">0.470</td>
<td align="right">0.528</td>
<td align="right">0.890</td>
<td align="right">1.600</td>
</tr>
<tr class="even">
<td align="left">ethnicity_raceasian</td>
<td align="right">1.000</td>
<td align="right">0.407</td>
<td align="right">4922.188</td>
<td align="right">0.000</td>
<td align="right">1.502</td>
</tr>
<tr class="odd">
<td align="left">ethnicity_raceblack</td>
<td align="right">0.997</td>
<td align="right">16.148</td>
<td align="right">4609.321</td>
<td align="right">0.004</td>
<td align="right">10300405.637</td>
</tr>
<tr class="even">
<td align="left">ethnicity_racecaucasian</td>
<td align="right">0.997</td>
<td align="right">15.068</td>
<td align="right">4609.321</td>
<td align="right">0.003</td>
<td align="right">3498863.449</td>
</tr>
<tr class="odd">
<td align="left">ethnicity_racelatino</td>
<td align="right">0.997</td>
<td align="right">15.566</td>
<td align="right">4609.321</td>
<td align="right">0.003</td>
<td align="right">5756650.974</td>
</tr>
<tr class="even">
<td align="left">ethnicity_racemultiple</td>
<td align="right">1.000</td>
<td align="right">0.638</td>
<td align="right">4853.942</td>
<td align="right">0.000</td>
<td align="right">1.894</td>
</tr>
<tr class="odd">
<td align="left">asthma1</td>
<td align="right">0.522</td>
<td align="right">-0.451</td>
<td align="right">0.705</td>
<td align="right">-0.640</td>
<td align="right">0.637</td>
</tr>
<tr class="even">
<td align="left">diabetes1</td>
<td align="right">0.000</td>
<td align="right">3.436</td>
<td align="right">0.645</td>
<td align="right">5.323</td>
<td align="right">31.050</td>
</tr>
<tr class="odd">
<td align="left">obesity1</td>
<td align="right">0.460</td>
<td align="right">-0.504</td>
<td align="right">0.682</td>
<td align="right">-0.739</td>
<td align="right">0.604</td>
</tr>
</tbody>
</table>
<pre class="r"><code>icu2_fit = 
  glm(icu ~ age + gender + ethnicity_race + asthma + diabetes + bmi_value + systolic_bp_value + ses, 
      family = binomial(link = &quot;logit&quot;), 
      data = data_stats) %&gt;% 
  broom::tidy() %&gt;% 
  mutate(OR = exp(estimate)) %&gt;% 
  select(term, p.value, everything()) %&gt;% 
  knitr::kable(digits = 3)
icu2_fit</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">term</th>
<th align="right">p.value</th>
<th align="right">estimate</th>
<th align="right">std.error</th>
<th align="right">statistic</th>
<th align="right">OR</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">(Intercept)</td>
<td align="right">0.997</td>
<td align="right">-19.055</td>
<td align="right">4591.657</td>
<td align="right">-0.004</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">age</td>
<td align="right">0.899</td>
<td align="right">-0.006</td>
<td align="right">0.048</td>
<td align="right">-0.127</td>
<td align="right">0.994</td>
</tr>
<tr class="odd">
<td align="left">genderM</td>
<td align="right">0.392</td>
<td align="right">0.483</td>
<td align="right">0.564</td>
<td align="right">0.857</td>
<td align="right">1.621</td>
</tr>
<tr class="even">
<td align="left">ethnicity_raceasian</td>
<td align="right">1.000</td>
<td align="right">0.502</td>
<td align="right">4904.944</td>
<td align="right">0.000</td>
<td align="right">1.653</td>
</tr>
<tr class="odd">
<td align="left">ethnicity_raceblack</td>
<td align="right">0.997</td>
<td align="right">16.185</td>
<td align="right">4591.657</td>
<td align="right">0.004</td>
<td align="right">10696327.902</td>
</tr>
<tr class="even">
<td align="left">ethnicity_racecaucasian</td>
<td align="right">0.997</td>
<td align="right">15.169</td>
<td align="right">4591.657</td>
<td align="right">0.003</td>
<td align="right">3869025.901</td>
</tr>
<tr class="odd">
<td align="left">ethnicity_racelatino</td>
<td align="right">0.997</td>
<td align="right">15.642</td>
<td align="right">4591.657</td>
<td align="right">0.003</td>
<td align="right">6215033.974</td>
</tr>
<tr class="even">
<td align="left">ethnicity_racemultiple</td>
<td align="right">1.000</td>
<td align="right">0.850</td>
<td align="right">4833.925</td>
<td align="right">0.000</td>
<td align="right">2.340</td>
</tr>
<tr class="odd">
<td align="left">asthma1</td>
<td align="right">0.690</td>
<td align="right">-0.288</td>
<td align="right">0.722</td>
<td align="right">-0.398</td>
<td align="right">0.750</td>
</tr>
<tr class="even">
<td align="left">diabetes1</td>
<td align="right">0.000</td>
<td align="right">3.520</td>
<td align="right">0.694</td>
<td align="right">5.074</td>
<td align="right">33.777</td>
</tr>
<tr class="odd">
<td align="left">bmi_value</td>
<td align="right">0.257</td>
<td align="right">-0.033</td>
<td align="right">0.029</td>
<td align="right">-1.133</td>
<td align="right">0.967</td>
</tr>
<tr class="even">
<td align="left">systolic_bp_value</td>
<td align="right">0.805</td>
<td align="right">0.005</td>
<td align="right">0.019</td>
<td align="right">0.247</td>
<td align="right">1.005</td>
</tr>
<tr class="odd">
<td align="left">ses</td>
<td align="right">0.713</td>
<td align="right">-0.035</td>
<td align="right">0.095</td>
<td align="right">-0.368</td>
<td align="right">0.966</td>
</tr>
</tbody>
</table>
<pre class="r"><code>icu3_fit = 
  glm(icu ~ age + gender + asthma + diabetes + bmi_value + systolic_bp_value + ses, 
      family = binomial(link = &quot;logit&quot;), 
      data = data_stats) %&gt;% 
  broom::tidy() %&gt;% 
  mutate(OR = exp(estimate)) %&gt;% 
  select(term, p.value, everything()) %&gt;% 
  knitr::kable(digits = 3)
icu3_fit</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">term</th>
<th align="right">p.value</th>
<th align="right">estimate</th>
<th align="right">std.error</th>
<th align="right">statistic</th>
<th align="right">OR</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">(Intercept)</td>
<td align="right">0.052</td>
<td align="right">-3.668</td>
<td align="right">1.885</td>
<td align="right">-1.946</td>
<td align="right">0.026</td>
</tr>
<tr class="even">
<td align="left">age</td>
<td align="right">0.998</td>
<td align="right">0.000</td>
<td align="right">0.046</td>
<td align="right">-0.002</td>
<td align="right">1.000</td>
</tr>
<tr class="odd">
<td align="left">genderM</td>
<td align="right">0.496</td>
<td align="right">0.372</td>
<td align="right">0.546</td>
<td align="right">0.682</td>
<td align="right">1.451</td>
</tr>
<tr class="even">
<td align="left">asthma1</td>
<td align="right">0.747</td>
<td align="right">-0.230</td>
<td align="right">0.714</td>
<td align="right">-0.323</td>
<td align="right">0.794</td>
</tr>
<tr class="odd">
<td align="left">diabetes1</td>
<td align="right">0.000</td>
<td align="right">3.548</td>
<td align="right">0.679</td>
<td align="right">5.225</td>
<td align="right">34.729</td>
</tr>
<tr class="even">
<td align="left">bmi_value</td>
<td align="right">0.146</td>
<td align="right">-0.042</td>
<td align="right">0.029</td>
<td align="right">-1.454</td>
<td align="right">0.959</td>
</tr>
<tr class="odd">
<td align="left">systolic_bp_value</td>
<td align="right">0.627</td>
<td align="right">0.009</td>
<td align="right">0.018</td>
<td align="right">0.487</td>
<td align="right">1.009</td>
</tr>
<tr class="even">
<td align="left">ses</td>
<td align="right">0.611</td>
<td align="right">-0.046</td>
<td align="right">0.091</td>
<td align="right">-0.509</td>
<td align="right">0.955</td>
</tr>
</tbody>
</table>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
