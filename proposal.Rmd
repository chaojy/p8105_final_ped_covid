---
title: "P8105 Final Project Proposal-Pediatric COVID"
author: "Jerry Chao, Lusha Liang, Sal El-Sadek, Kyung Suk Lee"
date: "`r Sys.Date()`"
output: 
  github_document:
    toc: yes
---

```{r setup,  message = FALSE, warning = FALSE}
library(tidyverse)

knitr::opts_chunk$set(
  fig.width = 6,
  fig.asp = .6,
  out.width = "90%")

theme_set(theme_minimal() + theme(legend.position = "bottom"))

options(
  ggplot2.continuous.colour = "viridis",
  ggplot2.continuous.fill = "viridis")

scale_colour_discrete = scale_color_viridis_d
scale_fill_discrete = scale_fill_viridis_d

knitr::opts_chunk$set(comment = NA, message = FALSE, warning = FALSE, echo = TRUE)
```

## Introduction

* The group members for our final project includes **Jerry Chao (JYC2171)**, **Lusha Liang (LL3344)**, **Sal El-Sadek (SNE2114)**, and **Kyung Suk Lee (KL3069)**.
* The tentative title for our project is **Pediatric COVID**.
* The private repository called **p8105_final_ped_covid** was created with access to all members of the team as collaborators since we are using dataset which comprises of patient's health information. However, we have de-identified the data in order to remove all personally identifiable information.

## The motivation for this project


## The anticipated data sources

```{r}
ped_covid =
  read_csv("./data/p8105_final_ped_covid.csv") %>% 
  head()
ped_covid
```

This is a de-identified dataset of pediatric patients from a tertiary care medical center who tested positive for COVID on SARS-CoV-2 RT PCR test and whether or not they were hospitalized.  The age range in the study is 0 to 23 years of age.  I have randomly generated an id number for each patient.  There are `r nrow(ped_covid)` rows (patients) and `r ncol(ped_covid)` columns in this dataset.  The variables are date and time of positive covid test ("eventdatetime"), whether the patient was admitted ("admitted"), whether there was a preceding emergency department visit ("ed_yes_no_0_365_before"), whether the patient needed intensive care admission ("icu_yes_no") and date and time of icu admission ("icu_date_time"), demographic data (age, gender, ethnicity, race, zip code data - predominantly in the Bronx), some past medical history data (bmi data, asthma data, diabetes data) and one vital sign datum (systolic blood pressure).  This will set the stage for our discussion and further analyses.  We can also request additional data, with a turnaround time of probably ~1 week.


## The intended final products

```{r}
ped_covid %>% 
  ggplot(aes(x = age, fill = admitted)) +
  geom_density(alpha = .6) +
  labs(
    title = "Age Distribution",
    x = "Age (Years)",
    y = "Density") +
  viridis::scale_color_viridis(discrete = TRUE) +
  theme_minimal() +
  theme(legend.position = "bottom")
```

We have generated a density plot of the age distribution in this dataset by admission (yes/no). There appears to be a bimodal age distribution of pediatric patients who tested positive for COVID-19 with more admissions during the first 2.5 years of life and also among older teenagers (15-20 years). There are less patients admitted in the toddler and small child age range (3-10).

## The planned analyses / visualizations / coding challenges


## The planned timeline


## Word count

```{r}
wordcountaddin::text_stats("proposal.Rmd")
```

